import{Q as K,i as x,q as P,L as U,c as E,r as S,M as W,o as s,a as r,d as t,u as j,b,w as $,N as B,f as z,n as h,h as N,t as A,k as q,O as H,P as Q,R as G,S as J,y as D,e as k,g as L,F as I,E as V,l as X,U as Y,V as Z,m as ee}from"./app-CEiRPCSS.js";import{u as T,A as te,_ as ae,a as se}from"./AppBreadcrumb-CzXVhXc1.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w=e=>(Q("data-v-3ef7e911"),e=e(),G(),e),le={class:"layout-topbar"},oe={href:"/",class:"layout-topbar-logo"},ie=["src"],ue=w(()=>t("span",null,"SAKAI",-1)),ce=w(()=>t("i",{class:"pi pi-bars"},null,-1)),re=[ce],me=w(()=>t("i",{class:"pi pi-user"},null,-1)),de=[me],ve=w(()=>t("span",{class:"inline-flex items-center gap-1 px-2 py-2"},[t("span",{class:"text-xl font-semibold"},[N("LARAVEL"),t("span",{class:"text-primary"},"11")])],-1)),pe=["href"],ye={class:"inline-flex"},fe={class:"flex-col items-start"},be={class:"font-bold full-width-span mb-2 font-span-username"},he=w(()=>t("span",{class:"text-sm full-width-span"},"Admin",-1)),ge={__name:"AppTopbar",setup(e){const{layoutConfig:i,onMenuToggle:n}=T();K();const v=x(null),l=x(!1),g=x(!1);P(()=>{d()}),U(()=>{u()});const p=E(()=>`/layout/images/${i.darkTheme.value?"logo-white":"logo-dark"}.svg`),y=E(()=>({"layout-topbar-menu-mobile-active":l.value})),d=()=>{v.value||(v.value=c=>{M(c)&&(l.value=!1,g.value=!1)},document.addEventListener("click",v.value))},u=()=>{v.value&&(document.removeEventListener("click",v),v.value=null)},M=c=>{if(!l.value&&!g.value)return;const o=document.querySelector(".layout-topbar-menu"),_=document.querySelector(".layout-topbar-menu-button"),C=document.querySelector(".profile-menu");return!(o.isSameNode(c.target)||o.contains(c.target)||_.isSameNode(c.target)||_.contains(c.target)||C.isSameNode(c.target)||C.contains(c.target))},a=x([{items:[{label:"Settings",icon:"pi pi-cog",link:"/profile"},{label:"Logout",icon:"pi pi-sign-out"}]},{separator:!0}]),m=()=>{H.post("/logout")};return(c,o)=>{const _=S("Avatar"),C=S("Menu"),F=S("OverlayPanel"),R=W("ripple");return s(),r("div",le,[t("a",oe,[t("img",{src:p.value,alt:"logo"},null,8,ie),ue]),t("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:o[0]||(o[0]=f=>j(n)())},re),t("div",{class:h(["layout-topbar-menu",y.value])},[t("button",{class:"p-link layout-topbar-button",onClick:o[1]||(o[1]=f=>c.$refs.overlayPanel.toggle(f))},de),b(F,{ref:"overlayPanel",class:"w-64 shadow-lg"},{default:$(()=>[b(C,{model:a.value,class:"w-full md:w-60"},{start:$(()=>[ve]),item:$(({item:f,props:O})=>[f.label==="Logout"?(s(),r("a",B({key:0,class:"flex items-center mb-2"},O.action,{onClick:z(m,["prevent"])}),[t("span",{class:h(f.icon)},null,2),N("  "),t("span",null,A(f.label),1)],16)):q((s(),r("a",B({key:1,href:f.link,class:"flex items-center"},O.action),[t("span",{class:h(f.icon)},null,2),N("  "),t("span",null,A(f.label),1)],16,pe)),[[R]])]),end:$(()=>[t("div",ye,[b(_,{image:"https://primefaces.org/cdn/primevue/images/avatar/amyelsner.png",class:"mr-2 my-2",shape:"circle"}),t("span",fe,[t("span",be,A(c.$page.props.auth.user.name),1),he])])]),_:1},8,["model"])]),_:1},512)],2)])}}},_e=ne(ge,[["__scopeId","data-v-3ef7e911"]]),ke={key:0,class:"layout-menuitem-root-text"},xe=["href","target"],Me={class:"layout-menuitem-text"},Ae={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},$e=["href"],Se={class:"layout-menuitem-text"},we={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Ce={class:"layout-submenu"},Le={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(e){const{layoutConfig:i,layoutState:n,setActiveMenuItem:v,onMenuToggle:l}=T(),g=K(),p=e,y=x(!1),d=x(null);J(()=>{d.value=p.parentItemKey?p.parentItemKey+"-"+p.index:String(p.index);const a=n.activeMenuItem;y.value=a===d.value||a?a.startsWith(d.value+"-"):!1}),D(()=>i.activeMenuItem.value,a=>{y.value=a===d.value||a.startsWith(d.value+"-")});const u=(a,m)=>{if(m.disabled){a.preventDefault();return}const{overlayMenuActive:c,staticMenuMobileActive:o}=n;(m.to||m.url)&&(o.value||c.value)&&l(),m.command&&m.command({originalEvent:a,item:m});const _=m.children?y.value?p.parentItemKey:d:d.value;v(_)},M=a=>g.url===a.to;return(a,m)=>{const c=S("app-menu-item",!0);return s(),r("li",{class:h({"layout-root-menuitem":e.root,"active-menuitem":y.value})},[e.root&&e.item.visible!==!1?(s(),r("div",ke,A(e.item.label),1)):k("",!0),(!e.item.to||e.item.children)&&e.item.visible!==!1?(s(),r("a",{key:1,href:e.item.url,onClick:m[0]||(m[0]=o=>u(o,e.item,e.index)),class:h(e.item.class),target:e.item.target,tabindex:"0"},[t("i",{class:h([e.item.icon,"layout-menuitem-icon"])},null,2),t("span",Me,A(e.item.label),1),e.item.children?(s(),r("i",Ae)):k("",!0)],10,xe)):k("",!0),e.item.to&&!e.item.children&&e.item.visible!==!1?(s(),r("a",{key:2,onClick:m[1]||(m[1]=o=>u(o,e.item,e.index)),class:h([e.item.class,{"active-route":M(e.item)}]),tabindex:"0",href:e.item.to},[t("i",{class:h([e.item.icon,"layout-menuitem-icon"])},null,2),t("span",Se,A(e.item.label),1),e.item.children?(s(),r("i",we)):k("",!0)],10,$e)):k("",!0),e.item.children&&e.item.visible!==!1?(s(),L(Y,{key:3,name:"layout-submenu"},{default:$(()=>[q(t("ul",Ce,[(s(!0),r(I,null,V(e.item.children,(o,_)=>(s(),L(c,{key:o,index:_,item:o,parentItemKey:d.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[X,e.root?!0:y.value]])]),_:1})):k("",!0)],2)}}},Ie={class:"layout-menu"},Ee={key:1,class:"menu-separator"},Ne=t("li",null,[t("a",{href:"https://www.primefaces.org/primeblocks-vue/#/",target:"_blank"},[t("img",{src:"/layout/images/banner-primeblocks.png",alt:"Prime Blocks",class:"w-full mt-3"})])],-1),Te={__name:"AppMenu",setup(e){const i=x([]);return P(async()=>{try{const n=await Z.get("/api/menus");i.value=n.data}catch(n){console.error("Error fetching menu:",n)}}),console.log(i),(n,v)=>(s(),r("ul",Ie,[(s(!0),r(I,null,V(i.value,(l,g)=>(s(),r(I,{key:l},[l.separator?k("",!0):(s(),L(Le,{key:0,item:l,index:g},null,8,["item","index"])),l.separator?(s(),r("li",Ee)):k("",!0)],64))),128)),Ne]))}},Oe={__name:"AppSidebar",setup(e){return(i,n)=>(s(),L(Te))}},Be={class:"layout-sidebar"},Ke={class:"layout-main-container"},Pe={class:"layout-main"},qe=t("div",{class:"layout-mask"},null,-1),Re={__name:"AppLayout",setup(e){const{layoutConfig:i,layoutState:n,isSidebarActive:v}=T(),l=x(null);D(v,u=>{u?p():y()});const g=E(()=>({"layout-theme-light":i.darkTheme.value==="light","layout-theme-dark":i.darkTheme.value==="dark","layout-overlay":i.menuMode.value==="overlay","layout-static":i.menuMode.value==="static","layout-static-inactive":n.staticMenuDesktopInactive.value&&i.menuMode.value==="static","layout-overlay-active":n.overlayMenuActive.value,"layout-mobile-active":n.staticMenuMobileActive.value,"p-ripple-disabled":i.ripple.value===!1})),p=()=>{l.value||(l.value=u=>{d(u)&&(n.overlayMenuActive.value=!1,n.staticMenuMobileActive.value=!1,n.menuHoverActive.value=!1)},document.addEventListener("click",l.value))},y=()=>{l.value&&(document.removeEventListener("click",l),l.value=null)},d=u=>{const M=document.querySelector(".layout-sidebar"),a=document.querySelector(".layout-menu-button");return!(M.isSameNode(u.target)||M.contains(u.target)||a.isSameNode(u.target)||a.contains(u.target))};return(u,M)=>{const a=S("Toast");return s(),r(I,null,[t("div",{class:h(["layout-wrapper",g.value])},[b(_e),t("div",Be,[b(Oe)]),t("div",Ke,[t("div",Pe,[b(te),t("main",null,[ee(u.$slots,"default")])]),b(ae)]),b(se),qe],2),b(a)],64)}}};export{Re as _};
