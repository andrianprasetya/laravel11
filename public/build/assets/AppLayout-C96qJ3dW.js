import{Q as P,i as k,q,L as W,c as I,r as C,M as j,o as l,a as c,d as t,u as z,b as h,w as S,N as K,f as H,n as g,h as T,t as A,k as D,O as Q,P as G,R as J,S as X,y as V,e as _,g as E,F as B,E as F,l as Y,U as Z,V as ee,m as te}from"./app-CPWJTjjn.js";import{u as N,A as ae,_ as se,a as ne}from"./AppBreadcrumb-DxK5GBk6.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M=e=>(G("data-v-77746d4b"),e=e(),J(),e),oe={class:"layout-topbar"},ie={href:"/",class:"layout-topbar-logo"},ue=["src"],ce=M(()=>t("span",null,"SAKAI",-1)),re=M(()=>t("i",{class:"pi pi-bars"},null,-1)),me=[re],de=M(()=>t("i",{class:"pi pi-ellipsis-v"},null,-1)),ve=[de],pe=M(()=>t("i",{class:"pi pi-user"},null,-1)),ye=M(()=>t("span",null,"Profile",-1)),fe=[pe,ye],be=M(()=>t("span",{class:"inline-flex items-center gap-1 px-2 py-2"},[t("span",{class:"text-xl font-semibold"},[T("LARAVEL"),t("span",{class:"text-primary"},"11")])],-1)),he=["href"],ge={class:"inline-flex"},_e={class:"flex-col items-start"},ke={class:"font-bold full-width-span mb-2 font-span-username"},xe=M(()=>t("span",{class:"text-sm full-width-span"},"Admin",-1)),Me={__name:"AppTopbar",setup(e){const{layoutConfig:i,onMenuToggle:o}=N();P();const v=k(null),s=k(!1),y=k(!1);q(()=>{u()}),W(()=>{x()});const f=I(()=>`/layout/images/${i.darkTheme.value?"logo-white":"logo-dark"}.svg`),b=()=>{s.value=!s.value},d=I(()=>({"layout-topbar-menu-mobile-active":s.value}));I(()=>({"profile-menu-active":y.value}));const u=()=>{v.value||(v.value=a=>{n(a)&&(s.value=!1,y.value=!1)},document.addEventListener("click",v.value))},x=()=>{v.value&&(document.removeEventListener("click",v),v.value=null)},n=a=>{if(!s.value&&!y.value)return;const m=document.querySelector(".layout-topbar-menu"),w=document.querySelector(".layout-topbar-menu-button"),L=document.querySelector(".profile-menu");return!(m.isSameNode(a.target)||m.contains(a.target)||w.isSameNode(a.target)||w.contains(a.target)||L.isSameNode(a.target)||L.contains(a.target))},r=k([{items:[{label:"Settings",icon:"pi pi-cog",link:"/profile"},{label:"Logout",icon:"pi pi-sign-out"}]},{separator:!0}]),$=()=>{Q.post("/logout")};return(a,m)=>{const w=C("Avatar"),L=C("Menu"),R=C("OverlayPanel"),U=j("ripple");return l(),c("div",oe,[t("a",ie,[t("img",{src:f.value,alt:"logo"},null,8,ue),ce]),t("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:m[0]||(m[0]=p=>z(o)())},me),t("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:m[1]||(m[1]=p=>b())},ve),t("div",{class:g(["layout-topbar-menu",d.value])},[t("button",{class:"p-link layout-topbar-button",ref:"profileButton",onClick:m[2]||(m[2]=p=>a.$refs.overlayPanel.toggle(p))},fe,512),h(R,{ref:"overlayPanel",class:"w-64 shadow-lg"},{default:S(()=>[h(L,{model:r.value,class:"w-full md:w-60"},{start:S(()=>[be]),item:S(({item:p,props:O})=>[p.label==="Logout"?(l(),c("a",K({key:0,class:"flex items-center mb-2"},O.action,{onClick:H($,["prevent"])}),[t("span",{class:g(p.icon)},null,2),T("  "),t("span",null,A(p.label),1)],16)):D((l(),c("a",K({key:1,href:p.link,class:"flex items-center"},O.action),[t("span",{class:g(p.icon)},null,2),T("  "),t("span",null,A(p.label),1)],16,he)),[[U]])]),end:S(()=>[t("div",ge,[h(w,{image:"https://primefaces.org/cdn/primevue/images/avatar/amyelsner.png",class:"mr-2 my-2",shape:"circle"}),t("span",_e,[t("span",ke,A(a.$page.props.auth.user.name),1),xe])])]),_:1},8,["model"])]),_:1},512)],2)])}}},Ae=le(Me,[["__scopeId","data-v-77746d4b"]]),$e={key:0,class:"layout-menuitem-root-text"},Se=["href","target"],Ce={class:"layout-menuitem-text"},we={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Le=["href"],Ie={class:"layout-menuitem-text"},Ee={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},Be={class:"layout-submenu"},Te={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(e){const{layoutConfig:i,layoutState:o,setActiveMenuItem:v,onMenuToggle:s}=N(),y=P(),f=e,b=k(!1),d=k(null);X(()=>{d.value=f.parentItemKey?f.parentItemKey+"-"+f.index:String(f.index);const n=o.activeMenuItem;b.value=n===d.value||n?n.startsWith(d.value+"-"):!1}),V(()=>i.activeMenuItem.value,n=>{b.value=n===d.value||n.startsWith(d.value+"-")});const u=(n,r)=>{if(r.disabled){n.preventDefault();return}const{overlayMenuActive:$,staticMenuMobileActive:a}=o;(r.to||r.url)&&(a.value||$.value)&&s(),r.command&&r.command({originalEvent:n,item:r});const m=r.children?b.value?f.parentItemKey:d:d.value;v(m)},x=n=>y.url===n.to;return(n,r)=>{const $=C("app-menu-item",!0);return l(),c("li",{class:g({"layout-root-menuitem":e.root,"active-menuitem":b.value})},[e.root&&e.item.visible!==!1?(l(),c("div",$e,A(e.item.label),1)):_("",!0),(!e.item.to||e.item.children)&&e.item.visible!==!1?(l(),c("a",{key:1,href:e.item.url,onClick:r[0]||(r[0]=a=>u(a,e.item,e.index)),class:g(e.item.class),target:e.item.target,tabindex:"0"},[t("i",{class:g([e.item.icon,"layout-menuitem-icon"])},null,2),t("span",Ce,A(e.item.label),1),e.item.children?(l(),c("i",we)):_("",!0)],10,Se)):_("",!0),e.item.to&&!e.item.children&&e.item.visible!==!1?(l(),c("a",{key:2,onClick:r[1]||(r[1]=a=>u(a,e.item,e.index)),class:g([e.item.class,{"active-route":x(e.item)}]),tabindex:"0",href:e.item.to},[t("i",{class:g([e.item.icon,"layout-menuitem-icon"])},null,2),t("span",Ie,A(e.item.label),1),e.item.children?(l(),c("i",Ee)):_("",!0)],10,Le)):_("",!0),e.item.children&&e.item.visible!==!1?(l(),E(Z,{key:3,name:"layout-submenu"},{default:S(()=>[D(t("ul",Be,[(l(!0),c(B,null,F(e.item.children,(a,m)=>(l(),E($,{key:a,index:m,item:a,parentItemKey:d.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[Y,e.root?!0:b.value]])]),_:1})):_("",!0)],2)}}},Ne={class:"layout-menu"},Oe={key:1,class:"menu-separator"},Ke=t("li",null,[t("a",{href:"https://www.primefaces.org/primeblocks-vue/#/",target:"_blank"},[t("img",{src:"/layout/images/banner-primeblocks.png",alt:"Prime Blocks",class:"w-full mt-3"})])],-1),Pe={__name:"AppMenu",setup(e){const i=k([]);return q(async()=>{try{const o=await ee.get("/api/menus");i.value=o.data}catch(o){console.error("Error fetching menu:",o)}}),console.log(i),(o,v)=>(l(),c("ul",Ne,[(l(!0),c(B,null,F(i.value,(s,y)=>(l(),c(B,{key:s},[s.separator?_("",!0):(l(),E(Te,{key:0,item:s,index:y},null,8,["item","index"])),s.separator?(l(),c("li",Oe)):_("",!0)],64))),128)),Ke]))}},qe={__name:"AppSidebar",setup(e){return(i,o)=>(l(),E(Pe))}},De={class:"layout-sidebar"},Ve={class:"layout-main-container"},Fe={class:"layout-main"},Re=t("div",{class:"layout-mask"},null,-1),ze={__name:"AppLayout",setup(e){const{layoutConfig:i,layoutState:o,isSidebarActive:v}=N(),s=k(null);V(v,u=>{u?f():b()});const y=I(()=>({"layout-theme-light":i.darkTheme.value==="light","layout-theme-dark":i.darkTheme.value==="dark","layout-overlay":i.menuMode.value==="overlay","layout-static":i.menuMode.value==="static","layout-static-inactive":o.staticMenuDesktopInactive.value&&i.menuMode.value==="static","layout-overlay-active":o.overlayMenuActive.value,"layout-mobile-active":o.staticMenuMobileActive.value,"p-ripple-disabled":i.ripple.value===!1})),f=()=>{s.value||(s.value=u=>{d(u)&&(o.overlayMenuActive.value=!1,o.staticMenuMobileActive.value=!1,o.menuHoverActive.value=!1)},document.addEventListener("click",s.value))},b=()=>{s.value&&(document.removeEventListener("click",s),s.value=null)},d=u=>{const x=document.querySelector(".layout-sidebar"),n=document.querySelector(".layout-menu-button");return!(x.isSameNode(u.target)||x.contains(u.target)||n.isSameNode(u.target)||n.contains(u.target))};return(u,x)=>{const n=C("Toast");return l(),c(B,null,[t("div",{class:g(["layout-wrapper",y.value])},[h(Ae),t("div",De,[h(qe)]),t("div",Ve,[t("div",Fe,[h(ae),t("main",null,[te(u.$slots,"default")])]),h(se)]),h(ne),Re],2),h(n)],64)}}};export{ze as _};
